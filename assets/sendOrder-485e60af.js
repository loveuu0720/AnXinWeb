import{a0 as I,a as m,r as M,a1 as B,o as j,c as R,w as a,e as x,b as t,d as r,n as T,a6 as A,E as F,a7 as P,ae as q,af as D,i as G,aa as L,ab as H,g as J,h as K,j as Q,ag as W,a3 as X,_ as Y}from"./index-15d0a107.js";/* empty css                *//* empty css                  *//* empty css                   *//* empty css                     *//* empty css                 *//* empty css                        *//* empty css                   *//* empty css                  *//* empty css                       */import{h as E}from"./request-c66eae3e.js";const Z=d=>E({url:"/sendMedicine/page",method:"get",params:{page:d.page,pageSize:d.pageSize}}),h=d=>E({url:`/sendMedicine/send/${d.id}`,method:"get",params:{id:d.id,trackingNumber:d.trackingNumber}}),ee={class:"dialog-footer"},te=I({__name:"sendOrder",setup(d){const p=m({page:1,pageSize:10}),c=m(0),b=m([]),s=M({}),n=m(!1);B(()=>{g()});const g=async()=>{let i=await Z(p.value);console.log(i),b.value=i.data.records,c.value=Number(i.data.total)},y=i=>{Object.assign(s,i),n.value=!n.value},C=async()=>{await h(s),F.success("寄药成功"),n.value=!n.value},k=()=>{n.value=!n.value};return(i,e)=>{const o=P,u=q,z=D,_=G,N=L,U=H,f=J,v=K,S=Q,w=W,O=X;return j(),R(O,{style:{"margin-top":"10px"}},{default:a(()=>[e[14]||(e[14]=x("h1",{class:"title"},"寄药订单管理",-1)),t(N,{border:"",data:b.value,stripe:"",style:{width:"100%"}},{default:a(()=>[t(o,{type:"index",label:"序号",align:"center",width:"70px"}),t(o,{prop:"id",label:"寄药订单id",align:"center"}),t(o,{prop:"prescriptionId",label:"处方订单id",align:"center"}),t(o,{prop:"patientUserName",label:"患者姓名",align:"center"}),t(o,{prop:"patientUserId",label:"患者id",align:"center"}),t(o,{prop:"phone",label:"手机号",align:"center"}),t(o,{prop:"address",label:"地点",align:"center"}),t(o,{prop:"freight",label:"运费",align:"center"}),t(o,{prop:"state",label:"订单状态",width:"240px",align:"center"},{default:a(({row:l,$index:$})=>[t(z,{modelValue:l.state,"onUpdate:modelValue":V=>l.state=V},{default:a(()=>[t(u,{label:"0",disabled:""},{default:a(()=>[...e[7]||(e[7]=[r("待支付",-1)])]),_:1}),t(u,{label:"1",disabled:""},{default:a(()=>[...e[8]||(e[8]=[r("待发货",-1)])]),_:1}),t(u,{label:"2",disabled:""},{default:a(()=>[...e[9]||(e[9]=[r("已发货",-1)])]),_:1}),t(u,{label:"3",disabled:""},{default:a(()=>[...e[10]||(e[10]=[r("已完成",-1)])]),_:1})]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:1}),t(o,{label:"操作",align:"center",width:"200px"},{default:a(({row:l,$index:$})=>[t(_,{class:"btn",type:"primary",icon:T(A),onClick:V=>y(l)},{default:a(()=>[...e[11]||(e[11]=[r("寄药",-1)])]),_:1},8,["icon","onClick"])]),_:1})]),_:1},8,["data"]),t(U,{"current-page":p.value.page,"onUpdate:currentPage":e[0]||(e[0]=l=>p.value.page=l),"page-size":p.value.pageSize,"onUpdate:pageSize":e[1]||(e[1]=l=>p.value.pageSize=l),"page-sizes":[5,10,15],background:!0,layout:" prev, pager, next, jumper,->,sizes,total",total:c.value,onSizeChange:e[2]||(e[2]=l=>g()),onCurrentChange:e[3]||(e[3]=l=>g())},null,8,["current-page","page-size","total"]),t(w,{modelValue:n.value,"onUpdate:modelValue":e[6]||(e[6]=l=>n.value=l),title:"寄快递"},{footer:a(()=>[x("span",ee,[t(_,{onClick:k},{default:a(()=>[...e[12]||(e[12]=[r("取消",-1)])]),_:1}),t(_,{type:"primary",onClick:C},{default:a(()=>[...e[13]||(e[13]=[r("确定",-1)])]),_:1})])]),default:a(()=>[t(S,{model:s,"label-position":"left","label-width":"100px"},{default:a(()=>[t(v,{label:"订单id"},{default:a(()=>[t(f,{modelValue:s.id,"onUpdate:modelValue":e[4]||(e[4]=l=>s.id=l),autocomplete:"off"},null,8,["modelValue"])]),_:1}),t(v,{label:"快递单号"},{default:a(()=>[t(f,{modelValue:s.trackingNumber,"onUpdate:modelValue":e[5]||(e[5]=l=>s.trackingNumber=l),autocomplete:"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])]),_:1})}}});const ge=Y(te,[["__scopeId","data-v-06c20930"]]);export{ge as default};
