import{_ as f,r as k,a as u,o as v,c as V,w as n,b as a,d as p,e as o,E as g,f as E,g as h,h as F,i as I,j as B,k as L}from"./index-15d0a107.js";/* empty css                     *//* empty css                  *//* empty css                 */import{h as q}from"./request-c66eae3e.js";const N="/AnXinWeb/assets/bg6-71624916.svg",S=({username:l,password:t})=>q({url:"/employee/login",method:"POST",data:{username:l,password:t}});const U={__name:"LoginForm",setup(l){const t=k({username:"admin",password:"123456"}),r=u(),d=u(),_=u(),b=async()=>{var s;let c=await r.value.validate();console.log(c);try{const e=await S(t);e&&e.data?(_.value=e.data,d.value=(s=e.map)==null?void 0:s.token,localStorage.setItem("user_token",d.value),localStorage.setItem("name",_.value),g.success("登录成功！"),E.push("/")):g.error((e==null?void 0:e.msg)||"登录失败，请检查用户名或密码")}catch(e){console.error("Login error:",e)}},x={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:16,message:"密码必须是6-16位",trigger:"blur"}]};return(c,s)=>{const e=h,m=F,w=I,y=B;return v(),V(y,{model:t,ref_key:"form",ref:r,"label-width":"100px",rules:x,class:"loginForm sign-in-form"},{default:n(()=>[a(m,{label:"用户名",prop:"username"},{default:n(()=>[a(e,{placeholder:"请输入用户名",modelValue:t.username,"onUpdate:modelValue":s[0]||(s[0]=i=>t.username=i)},null,8,["modelValue"])]),_:1}),a(m,{label:"密码",prop:"password"},{default:n(()=>[a(e,{type:"password",placeholder:"请输入密码",modelValue:t.password,"onUpdate:modelValue":s[1]||(s[1]=i=>t.password=i)},null,8,["modelValue"])]),_:1}),a(m,null,{default:n(()=>[a(w,{type:"primary",class:"submit-btn",onClick:b},{default:n(()=>[...s[2]||(s[2]=[p("登录",-1)])]),_:1})]),_:1}),s[3]||(s[3]=o("div",{class:"tiparea"},[o("p",null,[p("忘记密码？ "),o("a",null,"立即找回")])],-1))]),_:1},8,["model"])}}},C=f(U,[["__scopeId","data-v-7416fb5a"]]);const M={class:"container"},T={class:"forms-container"},j={class:"signin-signup"},A={__name:"index",setup(l){return(t,r)=>(v(),L("div",M,[o("div",T,[o("div",j,[a(C)])]),r[0]||(r[0]=o("div",{class:"panels-container"},[o("div",{class:"panel left-panel"},[o("div",{class:"content"},[o("h3",null,"健康是幸福的主要因素，没有健康就没有一切"),o("p",null,"健康是人生的第一财富")]),o("img",{src:N,class:"image",alt:""})])],-1))]))}},$=f(A,[["__scopeId","data-v-fbe6109e"]]);export{$ as default};
