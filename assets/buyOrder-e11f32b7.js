import{a0 as $,a as i,a1 as B,o as _,c as x,w as l,b as e,e as c,d as p,n as b,ah as I,k as M,ai as T,a2 as j,ac as D,a7 as L,ae as P,af as R,i as A,aa as q,ab as F,aj as G,a5 as H,a3 as J,ak as K,_ as Q}from"./index-15d0a107.js";/* empty css                *//* empty css                  *//* empty css                   *//* empty css                        *//* empty css                   *//* empty css                 *//* empty css                  *//* empty css                       */import{h}from"./request-c66eae3e.js";const W=r=>h({url:"/buyMedicine/page",method:"get",params:{page:r.page,pageSize:r.pageSize}}),X=r=>h({url:`/buyMedicine/drugList/${r}`,method:"get",params:{id:r}}),Y={text:"2xl",justify:"center"},Z=["src"],ee=$({__name:"buyOrder",setup(r){const n=i({page:1,pageSize:10}),f=i(1),w=i([]);let d=i([]);const u=i(!1),m=async()=>{let s=await W(n.value);w.value=s.data.records,f.value=Number(s.data.total)};B(()=>{m()});const C=async s=>{u.value=!u.value;let t=await X(s);d.value=t.data,console.log(d.value)};return(s,t)=>{const o=L,g=P,z=R,E=A,v=q,V=F,k=K,S=G,U=H,N=J;return _(),x(D,null,{default:l(()=>[e(N,{style:{"margin-top":"10px"}},{default:l(()=>[t[11]||(t[11]=c("h1",{class:"title"},"买药订单管理",-1)),e(v,{border:"",data:w.value,stripe:"",style:{width:"100%"}},{default:l(()=>[e(o,{type:"selection",width:"55"}),e(o,{type:"index",label:"序号",width:"55",align:"center"}),e(o,{prop:"id",label:"买药订单id",align:"center","show-overflow-tooltip":""}),e(o,{prop:"prescriptionId",label:"处方订单id",align:"center","show-overflow-tooltip":""}),e(o,{prop:"patientUserName",label:"患者姓名",align:"center","show-overflow-tooltip":""}),e(o,{prop:"patientUserId",label:"患者id",align:"center","show-overflow-tooltip":""}),e(o,{prop:"phone",label:"手机号",align:"center","show-overflow-tooltip":""}),e(o,{prop:"totalPrice",label:"总价",align:"center","show-overflow-tooltip":""}),e(o,{prop:"state",label:"订单状态",width:"280px",height:"100px",align:"center","show-overflow-tooltip":""},{default:l(({row:a,$index:O})=>[e(z,{modelValue:a.state,"onUpdate:modelValue":y=>a.state=y},{default:l(()=>[e(g,{label:"0",disabled:"",border:""},{default:l(()=>[...t[5]||(t[5]=[p("待支付",-1)])]),_:1}),e(g,{label:"1",disabled:"",border:""},{default:l(()=>[...t[6]||(t[6]=[p("待发货",-1)])]),_:1}),e(g,{label:"2",disabled:"",border:""},{default:l(()=>[...t[7]||(t[7]=[p("已发货",-1)])]),_:1}),e(g,{label:"3",disabled:"",border:""},{default:l(()=>[...t[8]||(t[8]=[p("已完成",-1)])]),_:1})]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:1}),e(o,{label:"操作",align:"center",width:"200px"},{default:l(({row:a,$index:O})=>[e(E,{type:"primary",class:"btn",icon:b(I),onClick:y=>C(a.id)},{default:l(()=>[...t[9]||(t[9]=[p("查看详情",-1)])]),_:1},8,["icon","onClick"])]),_:1})]),_:1},8,["data"]),e(V,{"current-page":n.value.page,"onUpdate:currentPage":t[0]||(t[0]=a=>n.value.page=a),"page-size":n.value.pageSize,"onUpdate:pageSize":t[1]||(t[1]=a=>n.value.pageSize=a),"page-sizes":[5,10,15],background:!0,layout:" prev, pager, next, jumper,->,sizes,total",total:f.value,onSizeChange:t[2]||(t[2]=a=>m()),onCurrentChange:t[3]||(t[3]=a=>m())},null,8,["current-page","page-size","total"]),e(U,{class:"drawer",modelValue:u.value,"onUpdate:modelValue":t[4]||(t[4]=a=>u.value=a),direction:"rtl",size:"40%"},{default:l(()=>[t[10]||(t[10]=c("h2",{class:"title"},"药品简介",-1)),e(S,{interval:2e3,arrow:"always",height:"450px"},{default:l(()=>[(_(!0),M(j,null,T(b(d),a=>(_(),x(k,{key:a},{default:l(()=>[c("h3",Y,[c("img",{class:"img",src:a.img,alt:""},null,8,Z)])]),_:2},1024))),128))]),_:1}),e(v,{data:b(d),stripe:"",border:"",style:{"margin-top":"20px"}},{default:l(()=>[e(o,{prop:"prescriptionid",label:"处方id",align:"center","show-overflow-tooltip":""}),e(o,{prop:"drugname",label:"药品名",align:"center","show-overflow-tooltip":""}),e(o,{prop:"price",label:"价格",align:"center","show-overflow-tooltip":""}),e(o,{prop:"number",label:"数量",align:"center","show-overflow-tooltip":""}),e(o,{prop:"totalprice",label:"总价",align:"center","show-overflow-tooltip":""}),e(o,{prop:"drugid",label:"药瓶id",align:"center","show-overflow-tooltip":""})]),_:1},8,["data"])]),_:1},8,["modelValue"])]),_:1})]),_:1})}}});const ue=Q(ee,[["__scopeId","data-v-4a3fc196"]]);export{ue as default};
