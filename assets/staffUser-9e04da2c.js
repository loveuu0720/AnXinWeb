import{_ as A,a as x,r as G,a1 as H,o as J,k as K,b as l,w as a,a3 as Q,n as d,ao as W,d as r,al as X,a6 as Y,am as Z,e as h,E as y,g as ee,h as le,i as ae,j as te,a7 as oe,ae as re,af as se,an as ne,aa as ue,ab as de,a5 as pe,ag as ie}from"./index-15d0a107.js";/* empty css                  *//* empty css                   *//* empty css                  *//* empty css                        *//* empty css                   *//* empty css                 *//* empty css                   *//* empty css                  *//* empty css                       *//* empty css                *//* empty css                     */import{h as U}from"./request-c66eae3e.js";import{d as me}from"./index-ca04d87c.js";const fe=s=>U({url:"/employee/page",method:"get",params:{page:s.page,pageSize:s.pageSize}}),ge=s=>U({url:`/employee/remove/${s}`,method:"get"}),be=s=>U({url:"/employee/getpage",method:"get",params:{page:s.page,pageSize:s.pageSize,username:s.key}}),_e=s=>U({url:"/employee",method:"post",data:s});const Ve={class:"page-enter"},ve={style:{flex:"auto"}},xe={__name:"staffUser",setup(s){let i=x({page:1,pageSize:10,key:""}),z=x();const C=x([]),o=G({}),m=x(!1),_=x(!1),V=async()=>{let n=await fe(i.value);C.value=n.data.records,z.value=parseInt(n.data.total)};H(()=>{V()});const $=n=>{m.value=!m.value,Object.assign(o,n)},N=()=>{m.value=!m.value},j=async()=>{(await _e(o)).code==="1"?(y.success("修改成功"),V()):y.error("修改失败"),m.value=!m.value},B=async n=>{y.success("删除成功"),await ge(n),V()},I=async()=>{let n=await be(i.value);C.value=n.data.records},R=()=>{window.location.reload()},c=()=>{_.value=!_.value,Object.assign(o,{username:"",name:"",password:"",phone:"",idnumber:"",sex:1,status:1})},P=async()=>{await form.value.validate(),(await me(o)).code==="1"?(y.success("添加成功"),V()):y.error("添加失败"),_.value=!_.value},T=()=>{V()},E={name:[{required:!0,message:"请输入用户名!",trigger:"blur"},{required:!0,min:1,max:6,message:"用户名长度必须1-6位!",trigger:"blur"}],username:[{required:!0,message:"请输入员工姓名",trigger:"blur"}],idNum:[{required:!0,message:"请输入身份证号码!",trigger:"blur"},{required:!0,max:18,min:18,message:"身份证号码必须18位!",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号!",trigger:"blur"},{required:!0,pattern:/^1[3-9]\d{9}$/,message:"手机号格式错误!",trigger:"blur"}],password:[{required:!0,message:"请输入密码!",trigger:"blur"},{required:!0,min:6,max:16,trigger:"blur",message:"密码必须6-16位!"}]};return(n,e)=>{const f=ee,u=le,p=ae,k=te,S=Q,g=oe,b=re,w=se,D=ne,F=ue,L=de,M=pe,O=ie;return J(),K("div",Ve,[l(S,{style:{height:"80px"}},{default:a(()=>[l(k,{inline:!0},{default:a(()=>[l(u,{label:"查询员工"},{default:a(()=>[l(f,{placeholder:"请输入员工用户名",modelValue:d(i).key,"onUpdate:modelValue":e[0]||(e[0]=t=>d(i).key=t)},null,8,["modelValue"])]),_:1}),l(u,null,{default:a(()=>[l(p,{type:"primary",size:"default",title:"请添加搜索条件",onClick:I,icon:d(W)},{default:a(()=>[...e[15]||(e[15]=[r("搜索",-1)])]),_:1},8,["icon"]),l(p,{size:"large",onClick:R},{default:a(()=>[...e[16]||(e[16]=[r("重置",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),l(S,{style:{"margin-top":"10px"}},{default:a(()=>[l(p,{type:"primary",icon:d(X),onClick:c},{default:a(()=>[...e[17]||(e[17]=[r("添加员工",-1)])]),_:1},8,["icon"]),l(F,{border:"",style:{margin:"10px 0px"},data:C.value},{default:a(()=>[l(g,{label:"序号",width:"60px",type:"index",align:"center"}),l(g,{label:"员工姓名",prop:"name",align:"center","show-overflow-tooltip":""}),l(g,{label:"用户名",prop:"username",align:"center","show-overflow-tooltip":""}),l(g,{label:"手机号",prop:"phone",align:"center","show-overflow-tooltip":""}),l(g,{label:"身份证号码",prop:"idnumber",align:"center","show-overflow-tooltip":""}),l(g,{label:"性别",prop:"sex",align:"center","show-overflow-tooltip":""},{default:a(({row:t,$index:q})=>[l(w,{modelValue:t.sex,"onUpdate:modelValue":v=>t.sex=v},{default:a(()=>[l(b,{label:"0",disabled:""},{default:a(()=>[...e[18]||(e[18]=[r("男",-1)])]),_:1}),l(b,{label:"1",disabled:""},{default:a(()=>[...e[19]||(e[19]=[r("女",-1)])]),_:1})]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:1}),l(g,{label:"状态",align:"center",width:"380px",prop:"status"},{default:a(({row:t,$index:q})=>[l(w,{modelValue:t.status,"onUpdate:modelValue":v=>t.status=v},{default:a(()=>[l(b,{label:"1",disabled:""},{default:a(()=>[...e[20]||(e[20]=[r("启用",-1)])]),_:1}),l(b,{label:"0",disabled:""},{default:a(()=>[...e[21]||(e[21]=[r("禁用",-1)])]),_:1})]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:1}),l(g,{label:"操作",align:"center",width:"400px"},{default:a(({row:t,$index:q})=>[l(p,{type:"primary",icon:d(Y),onClick:v=>$(t),class:"btn"},{default:a(()=>[...e[22]||(e[22]=[r("编辑",-1)])]),_:1},8,["icon","onClick"]),l(D,{title:"你确定要删除吗?",onConfirm:v=>B(t.id)},{reference:a(()=>[l(p,{type:"danger",icon:d(Z)},{default:a(()=>[...e[23]||(e[23]=[r("删除",-1)])]),_:1},8,["icon"])]),_:1},8,["onConfirm"])]),_:1})]),_:1},8,["data"]),l(L,{"current-page":d(i).page,"onUpdate:currentPage":e[1]||(e[1]=t=>d(i).page=t),"page-size":d(i).pageSize,"onUpdate:pageSize":e[2]||(e[2]=t=>d(i).pageSize=t),"page-sizes":[5,10,15],background:!0,layout:" prev, pager, next, jumper,->,sizes,total",total:d(z),onSizeChange:T,onCurrentChange:e[3]||(e[3]=t=>V())},null,8,["current-page","page-size","total"]),l(M,{modelValue:m.value,"onUpdate:modelValue":e[8]||(e[8]=t=>m.value=t),title:"修改患者信息",direction:"rtl"},{footer:a(()=>[h("div",ve,[l(p,{onClick:N},{default:a(()=>[...e[28]||(e[28]=[r("取消",-1)])]),_:1}),l(p,{type:"primary",onClick:j,class:"btn"},{default:a(()=>[...e[29]||(e[29]=[r("确认",-1)])]),_:1})])]),default:a(()=>[l(k,{rules:E,model:o,"label-position":"left","label-width":"80px"},{default:a(()=>[l(u,{label:"用户名",prop:"username"},{default:a(()=>[l(f,{placeholder:"请输入用户名",modelValue:o.username,"onUpdate:modelValue":e[4]||(e[4]=t=>o.username=t)},null,8,["modelValue"])]),_:1}),l(u,{label:"手机号",prop:"phone"},{default:a(()=>[l(f,{placeholder:"请输入手机号",modelValue:o.phone,"onUpdate:modelValue":e[5]||(e[5]=t=>o.phone=t)},null,8,["modelValue"])]),_:1}),l(u,{label:"状态",prop:"status"},{default:a(()=>[l(w,{placeholder:"请选择状态",modelValue:o.status,"onUpdate:modelValue":e[6]||(e[6]=t=>o.status=t)},{default:a(()=>[l(b,{label:"0"},{default:a(()=>[...e[24]||(e[24]=[r("禁用",-1)])]),_:1}),l(b,{label:"1"},{default:a(()=>[...e[25]||(e[25]=[r("启用",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(u,{label:"性别",prop:"sex"},{default:a(()=>[l(w,{placeholder:"请选择性别",modelValue:o.sex,"onUpdate:modelValue":e[7]||(e[7]=t=>o.sex=t)},{default:a(()=>[l(b,{label:"0"},{default:a(()=>[...e[26]||(e[26]=[r("男",-1)])]),_:1}),l(b,{label:"1"},{default:a(()=>[...e[27]||(e[27]=[r("女",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),l(O,{modelValue:_.value,"onUpdate:modelValue":e[14]||(e[14]=t=>_.value=t),title:"新增医生",width:"30%"},{footer:a(()=>[l(p,null,{default:a(()=>[...e[30]||(e[30]=[r("取消",-1)])]),_:1}),l(p,{type:"primary",onClick:P,class:"btn"},{default:a(()=>[...e[31]||(e[31]=[r("确定",-1)])]),_:1})]),default:a(()=>[l(k,{rules:E,"label-position":"left","label-width":"100px",model:o,style:{"max-width":"460px"}},{default:a(()=>[l(u,{label:"用户名",prop:"name"},{default:a(()=>[l(f,{modelValue:o.username,"onUpdate:modelValue":e[9]||(e[9]=t=>o.username=t)},null,8,["modelValue"])]),_:1}),l(u,{label:"员工姓名",prop:"username"},{default:a(()=>[l(f,{modelValue:o.name,"onUpdate:modelValue":e[10]||(e[10]=t=>o.name=t)},null,8,["modelValue"])]),_:1}),l(u,{label:"身份证号码",prop:"idNum"},{default:a(()=>[l(f,{modelValue:o.idnumber,"onUpdate:modelValue":e[11]||(e[11]=t=>o.idnumber=t)},null,8,["modelValue"])]),_:1}),l(u,{label:"手机号",prop:"phone"},{default:a(()=>[l(f,{modelValue:o.phone,"onUpdate:modelValue":e[12]||(e[12]=t=>o.phone=t)},null,8,["modelValue"])]),_:1}),l(u,{label:"密码",prop:"password"},{default:a(()=>[l(f,{modelValue:o.password,"onUpdate:modelValue":e[13]||(e[13]=t=>o.password=t)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])]),_:1})])}}},Re=A(xe,[["__scopeId","data-v-e466e1a5"]]);export{Re as default};
