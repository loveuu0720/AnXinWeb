import{_ as N,a as i,r as S,a1 as j,o as D,k as F,b as e,w as t,n as s,a4 as R,a2 as T,a3 as M,a5 as P,e as x,d as p,a6 as h,E as q,a7 as L,a8 as A,a9 as G,i as H,aa as J,ab as K,g as Q,h as W,j as X}from"./index-15d0a107.js";/* empty css                  *//* empty css                   *//* empty css                     *//* empty css                 *//* empty css                *//* empty css                        *//* empty css                   *//* empty css                  */import{h as Y}from"./request-c66eae3e.js";import{c as Z}from"./index-ca564672.js";const ee=(V,m)=>Y({url:"/order/page",method:"get",params:{page:V,pageSize:m}});const le=["src"],te={style:{flex:"auto"}},oe={__name:"doctorOrder",setup(V){const m=i(1);let y=i([]);const v=i(1),_=i(5);let d=i(!1),r=S({});j(()=>{b()});const b=async()=>{let u=await ee(v.value,_.value);console.log(u),y.value=u.data.records,m.value=parseInt(u.data.total)},k=u=>{d.value=!d.value,Object.assign(r,u)},z=async()=>{await Z(r),d.value=!d.value,q.success("修改成功"),r="",b()};return(u,l)=>{const n=L,a=A,E=G,g=H,U=J,$=K,O=M,C=Q,w=W,I=X,B=P;return D(),F(T,null,[e(O,{style:{"margin-top":"0px"}},{default:t(()=>[l[16]||(l[16]=x("h1",{class:"title"},"医生预约订单管理",-1)),e(U,{stripe:"",border:"",style:{margin:"10px 0px"},data:s(y)},{default:t(()=>[e(n,{label:"序号",width:"60px",type:"index",align:"center"}),e(n,{label:"订单id",prop:"id",align:"center","show-overflow-tooltip":""}),e(n,{label:"医院",prop:"hospital",align:"center","show-overflow-tooltip":"",width:"100px"}),e(n,{label:"科室",prop:"department",align:"center","show-overflow-tooltip":"",width:"80px"}),e(n,{label:"医生姓名",prop:"doctorname",align:"center","show-overflow-tooltip":""}),e(n,{label:"医生电话",prop:"phone",align:"center","show-overflow-tooltip":""}),e(n,{label:"患者姓名",prop:"patientuser",align:"center","show-overflow-tooltip":"",width:"80px"}),e(n,{label:"花费",prop:"cost",align:"center","show-overflow-tooltip":""}),e(n,{label:"医生头像",width:"180px",prop:"avatar",align:"center","show-overflow-tooltip":""},{default:t(({row:o,$index:c})=>[x("img",{src:`${o.img}`,style:{width:"150px",height:"180px"}},null,8,le)]),_:1}),e(n,{label:"预约时间",prop:"reservationtime",align:"center","show-overflow-tooltip":""}),e(n,{label:"状态",prop:"comp",align:"center","show-overflow-tooltip":""},{default:t(({row:o,$index:c})=>[e(E,{modelValue:o.status,"onUpdate:modelValue":f=>o.status=f,disabled:""},{default:t(()=>[e(a,{label:"申请退款中",value:"-2"},{default:t(()=>[...l[8]||(l[8]=[p("申请退款中",-1)])]),_:1}),e(a,{label:"已取消订单",value:"-1"},{default:t(()=>[...l[9]||(l[9]=[p("已取消订单",-1)])]),_:1}),e(a,{label:"待支付",value:"0"},{default:t(()=>[...l[10]||(l[10]=[p("待支付",-1)])]),_:1}),e(a,{label:"已支付",value:"1"},{default:t(()=>[...l[11]||(l[11]=[p("已支付",-1)])]),_:1}),e(a,{label:"已预约陪诊",value:"2"},{default:t(()=>[...l[12]||(l[12]=[p("已预约陪诊",-1)])]),_:1}),e(a,{label:"待完成",value:"3"},{default:t(()=>[...l[13]||(l[13]=[p("待完成",-1)])]),_:1}),e(a,{label:"已完成",value:"4"},{default:t(()=>[...l[14]||(l[14]=[p("已完成",-1)])]),_:1})]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:1}),e(n,{label:"操作",prop:"reservationtime",align:"center"},{default:t(({row:o,$index:c})=>[e(g,{type:"primary",icon:s(h),size:"default",onClick:f=>k(o),class:"btn_pay"},{default:t(()=>[...l[15]||(l[15]=[p("更改状态",-1)])]),_:1},8,["icon","onClick"])]),_:1})]),_:1},8,["data"]),e($,{"current-page":v.value,"onUpdate:currentPage":l[0]||(l[0]=o=>v.value=o),"page-size":_.value,"onUpdate:pageSize":l[1]||(l[1]=o=>_.value=o),"page-sizes":[5,10,15],background:!0,layout:" prev, pager, next, jumper,->,sizes,total",total:m.value,onSizeChange:l[2]||(l[2]=o=>b()),onCurrentChange:l[3]||(l[3]=o=>b())},null,8,["current-page","page-size","total"])]),_:1}),e(B,{modelValue:s(d),"onUpdate:modelValue":l[7]||(l[7]=o=>R(d)?d.value=o:d=o),title:"修改患者信息",direction:"rtl"},{footer:t(()=>[x("div",te,[e(g,{onClick:u.cancel},{default:t(()=>[...l[17]||(l[17]=[p("取消",-1)])]),_:1},8,["onClick"]),e(g,{type:"primary",onClick:z,class:"btn"},{default:t(()=>[...l[18]||(l[18]=[p("确认",-1)])]),_:1})])]),default:t(()=>[e(I,{rules:u.updateRules,model:s(r),"label-position":"left","label-width":"80px"},{default:t(()=>[e(w,{label:"用户名",prop:"username"},{default:t(()=>[e(C,{placeholder:"请输入用户名",modelValue:s(r).doctorname,"onUpdate:modelValue":l[4]||(l[4]=o=>s(r).doctorname=o)},null,8,["modelValue"])]),_:1}),e(w,{label:"手机号",prop:"phone"},{default:t(()=>[e(C,{placeholder:"请输入手机号",modelValue:s(r).phone,"onUpdate:modelValue":l[5]||(l[5]=o=>s(r).phone=o)},null,8,["modelValue"])]),_:1}),e(w,{label:"状态",prop:"status"},{default:t(({row:o,$index:c})=>[e(E,{modelValue:s(r).status,"onUpdate:modelValue":l[6]||(l[6]=f=>s(r).status=f)},{default:t(()=>[e(a,{label:"申请退款中",value:"-2",disabled:""}),e(a,{label:"已取消订单",value:"-1"}),e(a,{label:"待支付",value:"0"}),e(a,{label:"已支付",value:"1"}),e(a,{label:"已预约陪诊",value:"2"}),e(a,{label:"待完成",value:"3"}),e(a,{label:"已完成",value:"4"})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["rules","model"])]),_:1},8,["modelValue"])],64)}}},ve=N(oe,[["__scopeId","data-v-00dbadb6"]]);export{ve as default};
